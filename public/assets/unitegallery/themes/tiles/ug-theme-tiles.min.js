if(typeof g_ugFunctions!="undefined"){g_ugFunctions.registerTheme("tiles")}else{jQuery(document).ready(function(){g_ugFunctions.registerTheme("tiles")})}function UGTheme_tiles(){var p=this;var m=new UniteGalleryMain(),c,a,j;var x=new UGTiles(),y=new UGLightbox(),e,u;var v=new UGFunctions(),g=new UGTileDesign();var d={theme_enable_preloader:true,theme_preloading_height:200,theme_preloader_vertpos:100,theme_gallery_padding:0,theme_appearance_order:"normal",theme_auto_open:null};var w={gallery_width:"100%"};var b={showPreloader:false};function r(z,t){m=z;d=jQuery.extend(d,w);d=jQuery.extend(d,t);h();m.setOptions(d);m.setFreestyleMode();a=z.getObjects();c=jQuery(z);j=a.g_objWrapper;x.init(z,d);y.init(z,d);g=x.getObjTileDesign()}function h(){if(d.theme_enable_preloader==true){b.showPreloader=true}switch(d.theme_appearance_order){default:case"normal":break;case"shuffle":m.shuffleItems();break;case"keep":d.tiles_keep_order=true;break}}function s(){j.addClass("ug-theme-tiles");j.append("<div class='ug-tiles-wrapper' style='position:relative'></div>");if(b.showPreloader==true){j.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>");e=j.children(".ug-tiles-preloader");e.fadeTo(0,0)}u=j.children(".ug-tiles-wrapper");if(d.theme_gallery_padding){j.css({"padding-left":d.theme_gallery_padding+"px","padding-right":d.theme_gallery_padding+"px"})}x.setHtml(u);y.putHtml()}function f(){if(e){e.fadeTo(0,1);j.height(d.theme_preloading_height);v.placeElement(e,"center",d.theme_preloader_vertpos)}i();x.run();y.run()}function o(){s();f()}function n(){var t=m.getSize();if(b.isVertical==false){g_objPanel.setWidth(t.width)}else{g_objPanel.setHeight(t.height)}g_objPanel.run()}function l(z,B){B=jQuery(B);var A=g.getItemByTile(B);var t=A.index;y.open(t)}function k(){u.hide();if(e){e.show();var t=v.getElementSize(e);var z=t.bottom+30;j.height(z)}}function q(){if(d.theme_auto_open!==null){y.open(d.theme_auto_open);d.theme_auto_open=null}}function i(){if(e){jQuery(x).on(x.events.TILES_FIRST_PLACED,function(){j.height("auto");e.hide()})}jQuery(g).on(g.events.TILE_CLICK,l);c.on(m.events.GALLERY_BEFORE_REQUEST_ITEMS,k);jQuery(y).on(y.events.LIGHTBOX_INIT,q)}this.destroy=function(){jQuery(g).off(g.events.TILE_CLICK);jQuery(x).off(x.events.TILES_FIRST_PLACED);c.off(m.events.GALLERY_BEFORE_REQUEST_ITEMS);jQuery(y).off(y.events.LIGHTBOX_INIT);x.destroy();y.destroy()};this.run=function(){o()};this.init=function(z,t){r(z,t)}};